(function(g){var window=this;'use strict';var $ES=function(B){B.publish("autonavvisibility")},OGa=function(B,y){B.Kh("onAutonavCoundownStarted",y)},IbS=function(B){var y,a,r;
return B==null?void 0:(y=B.playerOverlays)==null?void 0:(a=y.playerOverlayRenderer)==null?void 0:(r=a.autoplay)==null?void 0:r.playerOverlayAutoplayRenderer},xT=function(B){var y=B.Y(),a=y.J;
g.O.call(this,{W:"a",B:"ytp-autonav-suggestion-card",V:{href:"{{url}}",target:a?y.U:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},G:[{W:"div",Mz:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],V:{style:"{{background}}"},G:[{W:"div",V:{"aria-label":"{{timestamp}}"},Mz:["ytp-autonav-timestamp"],a7:"{{duration}}"},{W:"div",Mz:["ytp-autonav-live-stamp"],a7:"Live"},{W:"div",
Mz:["ytp-autonav-upcoming-stamp"],a7:"Upcoming"},{W:"div",B:"ytp-autonav-list-overlay",G:[{W:"div",B:"ytp-autonav-mix-text",a7:"Mix"},{W:"div",B:"ytp-autonav-mix-icon"}]}]},{W:"div",Mz:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],a7:"{{title}}"},{W:"div",Mz:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],a7:"{{author}}"},{W:"div",Mz:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],a7:"{{views_and_publish_time}}"}]});this.S=B;this.suggestion=
null;this.C=a;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},Jn=function(B,y){y=y===void 0?!1:y;
g.O.call(this,{W:"div",B:"ytp-autonav-endscreen-countdown-overlay"});var a=this;this.N=y;this.cancelCommand=this.T=void 0;this.D=0;this.container=new g.O({W:"div",B:"ytp-autonav-endscreen-countdown-container"});g.K(this,this.container);this.container.Wk(this.element);y=B.Y();var r=y.J;this.S=B;this.suggestion=null;this.onVideoDataChange("newdata",this.S.getVideoData());this.L(B,"videodatachange",this.onVideoDataChange);this.C=new g.O({W:"div",B:"ytp-autonav-endscreen-upnext-container",V:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},G:[{W:"div",B:"ytp-autonav-endscreen-upnext-header"},{W:"div",B:"ytp-autonav-endscreen-upnext-alternative-header",a7:"{{autoplayAlternativeHeader}}"},{W:"a",B:"ytp-autonav-endscreen-link-container",V:{href:"{{url}}",target:r?y.U:""},G:[{W:"div",B:"ytp-autonav-endscreen-upnext-thumbnail",V:{style:"{{background}}"},G:[{W:"div",V:{"aria-label":"{{timestamp}}"},Mz:["ytp-autonav-timestamp"],
a7:"{{duration}}"},{W:"div",Mz:["ytp-autonav-live-stamp"],a7:"Live"},{W:"div",Mz:["ytp-autonav-upcoming-stamp"],a7:"Upcoming"}]},{W:"div",B:"ytp-autonav-endscreen-video-info",G:[{W:"div",B:"ytp-autonav-endscreen-premium-badge"},{W:"div",B:"ytp-autonav-endscreen-upnext-title",a7:"{{title}}"},{W:"div",B:"ytp-autonav-endscreen-upnext-author",a7:"{{author}}"},{W:"div",B:"ytp-autonav-view-and-date",a7:"{{views_and_publish_time}}"},{W:"div",B:"ytp-autonav-author-and-view",a7:"{{author_and_views}}"}]}]}]});
g.K(this,this.C);this.C.Wk(this.container.element);r||this.L(this.C.Dm("ytp-autonav-endscreen-link-container"),"click",this.A8);this.S.createClientVe(this.container.element,this,115127);this.S.createClientVe(this.C.Dm("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.O({W:"div",B:"ytp-autonav-overlay"});g.K(this,this.overlay);this.overlay.Wk(this.container.element);this.X=new g.O({W:"div",B:"ytp-autonav-endscreen-button-container"});g.K(this,this.X);this.X.Wk(this.container.element);
this.cancelButton=new g.O({W:"button",Mz:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",y.Z("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],V:{"aria-label":"Cancel autoplay"},a7:"Cancel"});g.K(this,this.cancelButton);this.cancelButton.Wk(this.X.element);this.cancelButton.listen("click",this.Cm,this);this.S.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.O({W:"a",Mz:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
y.Z("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],V:{href:"{{url}}",role:"button","aria-label":"Play next video"},a7:"Play Now"});g.K(this,this.playButton);this.playButton.Wk(this.X.element);this.playButton.listen("click",this.A8,this);this.S.createServerVe(this.playButton.element,this.playButton,!0);(y=this.S.getVideoData())&&ZGC(this,y);this.J=new g.Mv(function(){nw1(a)},500);
g.K(this,this.J);this.xM();this.L(B,"autonavvisibility",this.xM);this.S.Z("web_autonav_color_transition")&&(this.L(B,"autonavchange",this.Rv),this.L(B,"onAutonavCoundownStarted",this.s7Q))},HU=function(B){var y=B.S.KD(!0,B.S.isFullscreen());
g.aQ(B.container.element,"ytp-autonav-endscreen-small-mode",B.D9(y));g.aQ(B.container.element,"ytp-autonav-endscreen-is-premium",!!B.suggestion&&!!B.suggestion.mim);g.aQ(B.S.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!B.S.Fj());g.aQ(B.S.getRootNode(),"countdown-running",B.Q6());g.aQ(B.container.element,"ytp-player-content",B.S.Fj());g.MG(B.overlay.element,{width:y.width+"px"});if(!B.Q6()){B.S.Fj()?dEI(B,Math.round(UE7(B)/1E3)):dEI(B);y=!!B.suggestion&&!!B.suggestion.o9;var a=B.S.Fj()||
!y;g.aQ(B.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!a&&y);g.aQ(B.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",a&&!y);B.X.L2(B.S.Fj());g.aQ(B.element,"ytp-enable-w2w-color-transitions",jNp(B))}},nw1=function(B){var y=UE7(B),a=Math,r=a.min;
var k=B.D?Date.now()-B.D:0;a=r.call(a,k,y);dEI(B,Math.ceil((y-a)/1E3));y-a<=500&&B.Q6()?B.select(!0):B.Q6()&&B.J.start()},UE7=function(B){if(B.S.isFullscreen()){var y;
B=(y=B.S.getVideoData())==null?void 0:y.xT;return B===-1||B===void 0?8E3:B}return B.S.KO()>=0?B.S.KO():g.d2(B.S.Y().experiments,"autoplay_time")||1E4},ZGC=function(B,y){y=y.getWatchNextResponse();
var a,r;y=(a=IbS(y))==null?void 0:(r=a.nextButton)==null?void 0:r.buttonRenderer;B.T=y==null?void 0:y.navigationEndpoint;a=y==null?void 0:y.trackingParams;B.playButton&&a&&B.S.setTrackingParams(B.playButton.element,a)},jNp=function(B){var y;
return!((y=B.S.getVideoData())==null||!y.watchToWatchTransitionRenderer)},dEI=function(B,y){y=y===void 0?-1:y;
B=B.C.Dm("ytp-autonav-endscreen-upnext-header");g.EY(B);if(y>=0){y=String(y);var a="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],r="Up next in $SECONDS".indexOf(a);if(r>=0){B.appendChild(g.c_("Up next in $SECONDS".slice(0,r)));var k=g.li("span");g.jU(k,"ytp-autonav-endscreen-upnext-header-countdown-number");g.Rf(k,y);B.appendChild(k);B.appendChild(g.c_("Up next in $SECONDS".slice(r+a.length)));return}}g.Rf(B,"Up next")},ml=function(B,y){g.O.call(this,{W:"div",
Mz:["html5-endscreen","ytp-player-content",y||"base-endscreen"]});this.created=!1;this.player=B},ow=function(B){g.O.call(this,{W:"div",
Mz:["ytp-upnext","ytp-player-content"],V:{"aria-label":"{{aria_label}}"},G:[{W:"div",B:"ytp-cued-thumbnail-overlay-image",V:{style:"{{background}}"}},{W:"span",B:"ytp-upnext-top",G:[{W:"span",B:"ytp-upnext-header",a7:"Up Next"},{W:"span",B:"ytp-upnext-title",a7:"{{title}}"},{W:"span",B:"ytp-upnext-author",a7:"{{author}}"}]},{W:"a",B:"ytp-upnext-autoplay-icon",V:{role:"button",href:"{{url}}","aria-label":"Play next video"},G:[{W:"svg",V:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
G:[{W:"circle",B:"ytp-svg-autoplay-circle",V:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{W:"circle",B:"ytp-svg-autoplay-ring",V:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{W:"path",B:"ytp-svg-fill",V:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{W:"span",B:"ytp-upnext-bottom",G:[{W:"span",B:"ytp-upnext-cancel"},{W:"span",B:"ytp-upnext-paused",
a7:"Autoplay is paused"}]}]});this.api=B;this.cancelButton=null;this.T=this.Dm("ytp-svg-autoplay-ring");this.D=this.notification=this.C=this.suggestion=null;this.J=new g.Mv(this.s5,5E3,this);this.X=0;var y=this.Dm("ytp-upnext-cancel");this.cancelButton=new g.O({W:"button",Mz:["ytp-upnext-cancel-button","ytp-button"],V:{tabindex:"0","aria-label":"Cancel autoplay"},a7:"Cancel"});g.K(this,this.cancelButton);this.cancelButton.listen("click",this.h4,this);this.cancelButton.Wk(y);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.K(this,this.J);this.api.createClientVe(this.element,this,18788);y=this.Dm("ytp-upnext-autoplay-icon");this.L(y,"click",this.cT);this.api.createClientVe(y,this,115130);this.kM();this.L(B,"autonavvisibility",this.kM);this.L(B,"mdxnowautoplaying",this.Six);this.L(B,"mdxautoplaycanceled",this.M0m);g.aQ(this.element,"ytp-upnext-mobile",this.api.Y().X)},sNC=function(B,y){if(y)return y;
if(B.api.isFullscreen()){var a;B=(a=B.api.getVideoData())==null?void 0:a.xT;return B===-1||B===void 0?8E3:B}return B.api.KO()>=0?B.api.KO():g.d2(B.api.Y().experiments,"autoplay_time")||1E4},h3p=function(B,y){y=sNC(B,y);
var a=Math,r=a.min;var k=(0,g.V4)()-B.X;a=r.call(a,k,y);y=y===0?1:Math.min(a/y,1);B.T.setAttribute("stroke-dashoffset",""+-211*(y+1));y>=1&&B.Q6()&&B.api.getPresentingPlayerType()!==3?B.select(!0):B.Q6()&&B.C.start()},Cd=function(B){ml.call(this,B,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.O({W:"div",B:"ytp-suggestion-panel",G:[{W:"div",Mz:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],a7:"More videos"}]});this.K=new g.O({W:"div",B:"ytp-suggestions-container"});this.videos=[];this.D=null;this.T=this.N=!1;this.X=new Jn(this.player);g.K(this,this.X);this.X.Wk(this.element);B.getVideoData().Og?this.C=this.X:(this.C=new ow(B),g.Mh(this.player,this.C.element,4),g.K(this,this.C));this.overlay=new g.O({W:"div",
B:"ytp-autonav-overlay-cancelled-state"});g.K(this,this.overlay);this.overlay.Wk(this.element);this.J=new g.qO(this);g.K(this,this.J);g.K(this,this.table);this.table.Wk(this.element);this.table.show();g.K(this,this.K);this.K.Wk(this.table.element);this.hide()},gw=function(B){var y=B.Fj();
y!==B.T&&(B.T=y,$ES(B.player),B.T?(B.X!==B.C&&B.X.hide(),B.table.hide()):(B.X!==B.C&&B.X.show(),B.table.show()))},vw0=function(B){ml.call(this,B,"videowall-endscreen");
var y=this;this.S=B;this.stills=[];this.D=this.videoData=null;this.J=this.N=!1;this.K=null;g.hC(this.element,"modern-videowall-endscreen");this.X=new g.qO(this);g.K(this,this.X);this.T=new g.Mv(function(){g.hC(y.element,"ytp-show-tiles")},0);
g.K(this,this.T);this.table=new g.hk({W:"div",B:"ytp-modern-endscreen-content"});g.K(this,this.table);this.table.Wk(this.element);B.getVideoData().Og?this.C=new Jn(B,!0):this.C=new ow(B);g.K(this,this.C);g.Mh(this.player,this.C.element,4);B.createClientVe(this.element,this,158789);this.hide()},lP=function(B){return g.$o(B.player)&&B.eA()&&!B.D},cU=function(B){var y=B.Fj();
y!==B.N&&(B.N=y,$ES(B.player))},B4K=function(B){ml.call(this,B,"subscribecard-endscreen");
this.C=new g.O({W:"div",B:"ytp-subscribe-card",G:[{W:"img",B:"ytp-author-image",V:{src:"{{profilePicture}}"}},{W:"div",B:"ytp-subscribe-card-right",G:[{W:"div",B:"ytp-author-name",a7:"{{author}}"},{W:"div",B:"html5-subscribe-button-container"}]}]});g.K(this,this.C);this.C.Wk(this.element);var y=B.getVideoData();this.subscribeButton=new g.ah("Subscribe",null,"Unsubscribe",null,!0,!1,y.bd,y.subscribed,"trailer-endscreen",null,B,!1);g.K(this,this.subscribeButton);this.subscribeButton.Wk(this.C.Dm("html5-subscribe-button-container"));
this.L(B,"videodatachange",this.qz);this.qz();this.hide()},ww=function(B){var y=B.Y(),a=g.c3||g.ie?{style:"will-change: opacity"}:void 0,r=y.J,k=["ytp-videowall-still"];
y.X&&k.push("ytp-videowall-show-text");g.O.call(this,{W:"a",Mz:k,V:{href:"{{url}}",target:r?y.U:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},G:[{W:"div",B:"ytp-videowall-still-image",V:{style:"{{background}}"}},{W:"span",B:"ytp-videowall-still-info",V:{"aria-hidden":"true"},G:[{W:"span",B:"ytp-videowall-still-info-bg",G:[{W:"span",B:"ytp-videowall-still-info-content",V:a,G:[{W:"span",B:"ytp-videowall-still-info-title",a7:"{{title}}"},
{W:"span",B:"ytp-videowall-still-info-author",a7:"{{author_and_views}}"},{W:"span",B:"ytp-videowall-still-info-live",a7:"Live"},{W:"span",B:"ytp-videowall-still-info-duration",a7:"{{duration}}"}]}]}]},{W:"span",Mz:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],V:{"aria-hidden":"true"},G:[{W:"span",B:"ytp-videowall-still-listlabel-icon"},"Playlist",{W:"span",B:"ytp-videowall-still-listlabel-length",G:[" (",{W:"span",a7:"{{playlist_length}}"},")"]}]},{W:"span",Mz:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],V:{"aria-hidden":"true"},G:[{W:"span",B:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{W:"span",B:"ytp-videowall-still-listlabel-length",a7:" (50+)"}]}]});this.suggestion=null;this.X=r;this.api=B;this.C=new g.qO(this);g.K(this,this.C);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.C.L(B,"videodatachange",this.onVideoDataChange);B.createServerVe(this.element,this);this.onVideoDataChange()},Eu=function(B){ml.call(this,B,"videowall-endscreen");
var y=this;this.S=B;this.D=0;this.stills=[];this.J=this.videoData=null;this.T=this.K=!1;this.U=null;this.X=new g.qO(this);g.K(this,this.X);this.N=new g.Mv(function(){g.hC(y.element,"ytp-show-tiles")},0);
g.K(this,this.N);var a=new g.O({W:"button",Mz:["ytp-button","ytp-endscreen-previous"],V:{"aria-label":"Previous"},G:[g.H9()]});g.K(this,a);a.Wk(this.element);a.listen("click",this.dg,this);this.table=new g.hk({W:"div",B:"ytp-endscreen-content"});g.K(this,this.table);this.table.Wk(this.element);a=new g.O({W:"button",Mz:["ytp-button","ytp-endscreen-next"],V:{"aria-label":"Next"},G:[g.mZ()]});g.K(this,a);a.Wk(this.element);a.listen("click",this.pm,this);B.getVideoData().Og?this.C=new Jn(B,!0):this.C=
new ow(B);g.K(this,this.C);g.Mh(this.player,this.C.element,4);B.createClientVe(this.element,this,158789);this.hide()},zN=function(B){return g.$o(B.player)&&B.eA()&&!B.J},qX=function(B){var y=B.Fj();
y!==B.K&&(B.K=y,$ES(B.player))},yVS=function(B,y){g.O.call(this,{W:"button",
Mz:["ytp-watch-on-youtube-button","ytp-button"],a7:"{{content}}"});this.S=B;this.buttonType=this.buttonType=y;this.Nf();this.buttonType===2&&g.hC(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.Nf);this.L2(!0)},Vq=function(B){ml.call(this,B,"watch-again-on-youtube-endscreen");
this.watchButton=new yVS(B,1);g.K(this,this.watchButton);this.watchButton.Wk(this.element);g.Z4a(B)&&(this.C=new g.y9(B),g.K(this,this.C),this.X=new g.O({W:"div",Mz:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],V:{tabIndex:"-1"},G:[this.C]}),g.K(this,this.X),this.C.Wk(this.X.element),this.X.Wk(this.element));B.createClientVe(this.element,this,156914);this.hide()},x0o=function(B){g.N8.call(this,B);
var y=this;this.endScreen=null;this.C=this.X=this.D=!1;this.listeners=new g.qO(this);g.K(this,this.listeners);var a=B.Y();B.isEmbedsShortsMode()?this.endScreen=new Vq(B):ahI(B)?(this.D=!0,rV7(this),this.C?this.endScreen=new Cd(B):a.Z("delhi_modern_endscreen")?this.endScreen=new vw0(B):this.endScreen=new Eu(B)):a.MV?this.endScreen=new B4K(B):this.endScreen=new ml(B);g.K(this,this.endScreen);g.Mh(B,this.endScreen.element,4);k67(this);this.listeners.L(B,"videodatachange",this.onVideoDataChange,this);
this.listeners.L(B,g.fF("endscreen"),function(r){y.onCueRangeEnter(r)});
this.listeners.L(B,g.Mg("endscreen"),function(r){y.onCueRangeExit(r)})},rV7=function(B){var y=B.player.getVideoData();
if(!y||B.C===y.Sz&&B.X===y.Og)return!1;B.C=y.Sz;B.X=y.Og;return!0},ahI=function(B){B=B.Y();
return B.r0&&!B.MV&&!B.disableOrganicUi},k67=function(B){B.player.zt("endscreen");
var y=B.player.getVideoData();y=new g.iz(Math.max((y.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var a=new g.iz(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});B.player.Rd([y,a])};
g.GZ.prototype.KO=g.kW(6,function(){return this.app.KO()});
g.Rx.prototype.KO=g.kW(5,function(){return this.getVideoData().QX});
g.S4.prototype.Ix=g.kW(4,function(B){this.qs().Ix(B)});
g.US.prototype.Ix=g.kW(3,function(B){this.Gx!==B&&(this.Gx=B,this.Wa())});
g.R(xT,g.O);xT.prototype.select=function(){this.S.S6(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.jm||void 0)&&this.S.logClick(this.element)};
xT.prototype.onClick=function(B){g.cY(B,this.S,this.C,this.suggestion.sessionData||void 0)&&this.select()};
xT.prototype.onKeyPress=function(B){switch(B.keyCode){case 13:case 32:B.defaultPrevented||(this.select(),B.preventDefault())}};g.R(Jn,g.O);g.V=Jn.prototype;g.V.Gs=function(B){this.suggestion!==B&&(this.suggestion=B,g.CT(this.C,B),this.playButton.updateValue("url",this.suggestion.Lj()),HU(this))};
g.V.Q6=function(){return this.D>0};
g.V.D6=function(){this.Q6()||(this.D=Date.now(),nw1(this),OGa(this.S,UE7(this)),g.aQ(this.S.getRootNode(),"countdown-running",this.Q6()))};
g.V.KZ=function(){this.N$();nw1(this);var B=this.C.Dm("ytp-autonav-endscreen-upnext-header");B&&g.Rf(B,"Up next")};
g.V.N$=function(){this.Q6()&&(this.J.stop(),this.D=0)};
g.V.select=function(B){this.S.nextVideo(!1,B===void 0?!1:B);this.N$()};
g.V.A8=function(B){g.cY(B,this.S)&&(B.currentTarget===this.playButton.element?this.S.logClick(this.playButton.element):B.currentTarget===this.C.Dm("ytp-autonav-endscreen-link-container")&&(B=this.C.Dm("ytp-autonav-endscreen-link-container"),this.S.logVisibility(B,!0),this.S.logClick(B)),this.T?(this.S.Kh("innertubeCommand",this.T),this.N$()):this.select())};
g.V.Cm=function(){this.S.logClick(this.cancelButton.element);g.Dq(this.S,!0);this.cancelCommand&&this.S.Kh("innertubeCommand",this.cancelCommand)};
g.V.onVideoDataChange=function(B,y){ZGC(this,y);B=y.getWatchNextResponse();var a,r;B=(a=IbS(B))==null?void 0:(r=a.cancelButton)==null?void 0:r.buttonRenderer;this.cancelCommand=B==null?void 0:B.command};
g.V.s7Q=function(B){if(jNp(this)){var y=this.S.getVideoData().watchToWatchTransitionRenderer,a=y==null?void 0:y.fromColorPaletteDark;y=y==null?void 0:y.toColorPaletteDark;if(a&&y){var r=this.element;r.style.setProperty("--w2w-start-background-color",g.Pr(a.surgeColor));r.style.setProperty("--w2w-start-primary-text-color",g.Pr(a.primaryTitleColor));r.style.setProperty("--w2w-start-secondary-text-color",g.Pr(a.secondaryTitleColor));r.style.setProperty("--w2w-end-background-color",g.Pr(y.surgeColor));
r.style.setProperty("--w2w-end-primary-text-color",g.Pr(y.primaryTitleColor));r.style.setProperty("--w2w-end-secondary-text-color",g.Pr(y.secondaryTitleColor));r.style.setProperty("--w2w-animation-duration",B+"ms")}g.aQ(this.element,"ytp-w2w-animate",!0)}};
g.V.Rv=function(B){this.S.Z("web_autonav_color_transition")&&B!==2&&g.aQ(this.element,"ytp-w2w-animate",!1)};
g.V.xM=function(){var B=this.S.Fj();this.N&&this.g$!==B&&this.L2(B);HU(this);this.S.logVisibility(this.container.element,B);this.S.logVisibility(this.cancelButton.element,B);this.S.logVisibility(this.C.Dm("ytp-autonav-endscreen-link-container"),B);this.S.logVisibility(this.playButton.element,B)};
g.V.D9=function(B){return B.width<400||B.height<459};g.R(ml,g.O);g.V=ml.prototype;g.V.create=function(){this.created=!0};
g.V.destroy=function(){this.created=!1};
g.V.eA=function(){return!1};
g.V.Fj=function(){return!1};
g.V.uG=function(){return!1};g.R(ow,g.O);g.V=ow.prototype;g.V.s5=function(){this.notification&&(this.J.stop(),this.v6(this.D),this.D=null,this.notification.close(),this.notification=null)};
g.V.Gs=function(B){this.suggestion=B;g.CT(this,B,"hqdefault.jpg")};
g.V.kM=function(){this.L2(this.api.Fj());this.api.logVisibility(this.element,this.api.Fj());this.api.logVisibility(this.Dm("ytp-upnext-autoplay-icon"),this.api.Fj());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.Fj())};
g.V.u0h=function(){window.focus();this.s5()};
g.V.D6=function(B){var y=this;this.Q6()||(g.dN("a11y-announce","Up Next "+this.suggestion.title),this.X=(0,g.V4)(),this.C=new g.Mv(function(){h3p(y,B)},25),h3p(this,B),OGa(this.api,sNC(this,B)));
g.B1(this.element,"ytp-upnext-autoplay-paused")};
g.V.hide=function(){g.O.prototype.hide.call(this)};
g.V.Q6=function(){return!!this.C};
g.V.KZ=function(){this.N$();this.X=(0,g.V4)();h3p(this);g.hC(this.element,"ytp-upnext-autoplay-paused")};
g.V.N$=function(){this.Q6()&&(this.C.dispose(),this.C=null)};
g.V.select=function(B){B=B===void 0?!1:B;if(this.api.Y().Z("autonav_notifications")&&B&&window.Notification&&typeof document.hasFocus==="function"){var y=Notification.permission;y==="default"?Notification.requestPermission():y!=="granted"||document.hasFocus()||(this.s5(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.zF()}),this.D=this.L(this.notification,"click",this.u0h),this.J.start())}this.N$();this.api.nextVideo(!1,B)};
g.V.cT=function(B){!g.VM(this.cancelButton.element,B.target)&&g.cY(B,this.api)&&(this.api.Fj()&&this.api.logClick(this.Dm("ytp-upnext-autoplay-icon")),this.select())};
g.V.h4=function(){this.api.Fj()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.Dq(this.api,!0)};
g.V.Six=function(B){this.api.getPresentingPlayerType();this.show();this.D6(B)};
g.V.M0m=function(){this.api.getPresentingPlayerType();this.N$();this.hide()};
g.V.lw=function(){this.N$();this.s5();g.O.prototype.lw.call(this)};g.R(Cd,ml);g.V=Cd.prototype;g.V.create=function(){ml.prototype.create.call(this);this.J.L(this.player,"appresize",this.n9);this.J.L(this.player,"onVideoAreaChange",this.n9);this.J.L(this.player,"videodatachange",this.onVideoDataChange);this.J.L(this.player,"autonavchange",this.BE);this.J.L(this.player,"onAutonavCancelled",this.lZ);this.onVideoDataChange()};
g.V.show=function(){ml.prototype.show.call(this);(this.N||this.D&&this.D!==this.videoData.clientPlaybackNonce)&&g.Dq(this.player,!1);g.$o(this.player)&&this.eA()&&!this.D?(gw(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.C.select(!0):this.C.D6():this.videoData.autonavState===3&&this.C.KZ()):(g.Dq(this.player,!0),gw(this));this.n9()};
g.V.hide=function(){ml.prototype.hide.call(this);this.C.KZ();gw(this)};
g.V.n9=function(){var B=this.player.KD(!0,this.player.isFullscreen());gw(this);HU(this.X);g.aQ(this.element,"ytp-autonav-cancelled-small-mode",this.D9(B));g.aQ(this.element,"ytp-autonav-cancelled-tiny-mode",this.cU(B));g.aQ(this.element,"ytp-autonav-cancelled-mini-mode",B.width<=400||B.height<=360);this.overlay&&g.MG(this.overlay.element,{width:B.width+"px"});if(!this.T)for(B=0;B<this.videos.length;B++)g.aQ(this.videos[B].element,"ytp-suggestion-card-with-margin",B%2===1)};
g.V.onVideoDataChange=function(){var B=this.player.getVideoData();if(this.videoData!==B&&B){this.videoData=B;if((B=this.videoData.suggestions)&&B.length||this.player.Z("web_player_autonav_empty_suggestions_fix")){var y=g.lj(this.videoData);y&&(this.C.Gs(y),this.C!==this.X&&this.X.Gs(y))}if(B&&B.length)for(y=0;y<JV7.length;++y){var a=JV7[y];if(B&&B[a]){this.videos[y]=new xT(this.player);var r=this.videos[y];a=B[a];r.suggestion!==a&&(r.suggestion=a,g.CT(r,a));g.K(this,this.videos[y]);this.videos[y].Wk(this.K.element)}}this.n9()}};
g.V.BE=function(B){B===1?(this.N=!1,this.D=this.videoData.clientPlaybackNonce,this.C.N$(),this.g$&&this.n9()):(this.N=!0,this.Fj()&&(B===2?this.C.D6():B===3&&this.C.KZ()))};
g.V.lZ=function(B){B?this.BE(1):(this.D=null,this.N=!1)};
g.V.eA=function(){return this.videoData.autonavState!==1};
g.V.D9=function(B){return(B.width<910||B.height<459)&&!this.cU(B)&&!(B.width<=400||B.height<=360)};
g.V.cU=function(B){return B.width<800&&!(B.width<=400||B.height<=360)};
g.V.Fj=function(){return this.g$&&g.$o(this.player)&&this.eA()&&!this.D};
var JV7=[1,3,2,4];g.R(vw0,ml);g.V=vw0.prototype;g.V.create=function(){ml.prototype.create.call(this);var B=this.player.getVideoData();B&&(this.videoData=B);this.Fc();this.X.L(this.player,"appresize",this.Fc);this.X.L(this.player,"onVideoAreaChange",this.Fc);this.X.L(this.player,"videodatachange",this.onVideoDataChange);this.X.L(this.player,"autonavchange",this.FF);this.X.L(this.player,"onAutonavCancelled",this.Xt);B=this.videoData.autonavState;B!==this.K&&this.FF(B);this.X.L(this.element,"transitionend",this.eN)};
g.V.destroy=function(){g.Ye(this.X);g.vJ(this.stills);this.stills=[];ml.prototype.destroy.call(this);g.B1(this.element,"ytp-show-tiles");this.T.stop();this.K=this.videoData.autonavState};
g.V.eA=function(){return this.videoData.autonavState!==1};
g.V.show=function(){var B=this.g$;ml.prototype.show.call(this);g.B1(this.element,"ytp-show-tiles");this.player.Y().X?g.OG(this.T):this.T.start();(this.J||this.D&&this.D!==this.videoData.clientPlaybackNonce)&&g.Dq(this.player,!1);lP(this)?(cU(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.C.select(!0):this.C.D6():this.videoData.autonavState===3&&this.C.KZ()):(g.Dq(this.player,!0),cU(this));B!==this.g$&&this.player.logVisibility(this.element,!0)};
g.V.hide=function(){var B=this.g$;ml.prototype.hide.call(this);this.C.KZ();cU(this);B!==this.g$&&this.player.logVisibility(this.element,!1)};
g.V.eN=function(B){B.target===this.element&&this.Fc()};
g.V.Fc=function(){var B,y,a,r;var k=((B=this.videoData)==null?0:(y=B.suggestions)==null?0:y.length)?(a=this.videoData)==null?void 0:a.suggestions:[(r=this.videoData)==null?void 0:g.lj(r)];if(k.length){y=this.S.KD(!0,this.S.isFullscreen());B=Math.floor((y.width-64+16)/(g.Xw(y.width*.27,250,450)+16));y=Math.min(3,Math.floor((y.height-64)/((y.width-64-(B-1)*16)/B*.5625+70)));g.yW(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);
g.hC(this.element,"ytp-modern-endscreen-limit-rows-"+y);g.aQ(this.element,"ytp-modern-endscreen-single-item",B===1);g.aQ(this.element,"ytp-modern-endscreen-row-0",y===0);B=this.table.element;B.ariaLive="polite";this.C.Gs(g.lj(this.videoData));this.C instanceof Jn&&HU(this.C);g.aQ(this.element,"ytp-endscreen-takeover",lP(this));cU(this);y=0;B.ariaBusy="true";a=k.length;for(r=0;r<a;r++){var x=r%a,J=this.stills[r];J||(J=new g.gv(this.player),this.stills[r]=J,B.appendChild(J.element));g.w64(J,k[x]);y++}this.stills.length=
y}};
g.V.onVideoDataChange=function(){var B=this.player.getVideoData(1);this.videoData!==B&&(B!=null&&g.lj(B)?(this.videoData=B,this.Fc()):this.player.h7("missg",{vid:(B==null?void 0:B.videoId)||"",cpn:(B==null?void 0:B.clientPlaybackNonce)||""}))};
g.V.uG=function(){return this.C.Q6()};
g.V.FF=function(B){B===1?(this.J=!1,this.D=this.videoData.clientPlaybackNonce,this.C.N$(),this.g$&&this.Fc()):(this.J=!0,this.g$&&lP(this)&&(B===2?this.C.D6():B===3&&this.C.KZ()))};
g.V.Xt=function(B){if(B){for(B=0;B<this.stills.length;B++)this.S.logVisibility(this.stills[B].element,!0);this.FF(1)}else this.D=null,this.J=!1;this.Fc()};
g.V.Fj=function(){return this.g$&&lP(this)};g.R(B4K,ml);B4K.prototype.qz=function(){var B=this.player.getVideoData();this.C.update({profilePicture:B.profilePicture,author:B.author});this.subscribeButton.channelId=B.bd;var y=this.subscribeButton;B.subscribed?y.C():y.X()};g.R(ww,g.O);ww.prototype.select=function(){this.api.S6(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.jm||void 0)&&this.api.logClick(this.element)};
ww.prototype.onClick=function(B){if(g.M$(this.api.Y())&&this.api.Z("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var y=this.suggestion.Lj(),a={};g.i1(this.api,a);y=g.cJ(y,a);g.wy(y,this.api,B)}else g.cY(B,this.api,this.X,this.suggestion.sessionData||void 0)&&this.select()};
ww.prototype.onKeyPress=function(B){switch(B.keyCode){case 13:case 32:B.defaultPrevented||(this.select(),B.preventDefault())}};
ww.prototype.onVideoDataChange=function(){var B=this.api.getVideoData(),y=this.api.Y();this.X=B.nF?!1:y.J};g.R(Eu,ml);g.V=Eu.prototype;g.V.create=function(){ml.prototype.create.call(this);var B=this.player.getVideoData();B&&(this.videoData=B);this.jy();this.X.L(this.player,"appresize",this.jy);this.X.L(this.player,"onVideoAreaChange",this.jy);this.X.L(this.player,"videodatachange",this.onVideoDataChange);this.X.L(this.player,"autonavchange",this.s1);this.X.L(this.player,"onAutonavCancelled",this.Dh);B=this.videoData.autonavState;B!==this.U&&this.s1(B);this.X.L(this.element,"transitionend",this.t4)};
g.V.destroy=function(){g.Ye(this.X);g.vJ(this.stills);this.stills=[];ml.prototype.destroy.call(this);g.B1(this.element,"ytp-show-tiles");this.N.stop();this.U=this.videoData.autonavState};
g.V.eA=function(){return this.videoData.autonavState!==1};
g.V.show=function(){var B=this.g$;ml.prototype.show.call(this);g.B1(this.element,"ytp-show-tiles");this.player.Y().X?g.OG(this.N):this.N.start();(this.T||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.Dq(this.player,!1);zN(this)?(qX(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.C.select(!0):this.C.D6():this.videoData.autonavState===3&&this.C.KZ()):(g.Dq(this.player,!0),qX(this));B!==this.g$&&this.player.logVisibility(this.element,!0)};
g.V.hide=function(){var B=this.g$;ml.prototype.hide.call(this);this.C.KZ();qX(this);B!==this.g$&&this.player.logVisibility(this.element,!1)};
g.V.t4=function(B){B.target===this.element&&this.jy()};
g.V.jy=function(){var B,y,a,r;var k=((B=this.videoData)==null?0:(y=B.suggestions)==null?0:y.length)?(a=this.videoData)==null?void 0:a.suggestions:[(r=this.videoData)==null?void 0:g.lj(r)];if(k.length){g.hC(this.element,"ytp-endscreen-paginate");var x=this.S.KD(!0,this.S.isFullscreen());if(B=g.Nh(this.S))B=B.Fw()?48:32,x.width-=B*2;var J=x.width/x.height;r=96/54;y=B=2;var m=Math.max(x.width/96,2),C=Math.max(x.height/54,2);a=k.length;var l=a*4;for(l-=4;l>0&&(B<m||y<C);){var c=B/2,w=y/2,E=B<=m-2&&l>=
w*4,z=y<=C-2&&l>=c*4;if((c+1)/w*r/J>J/(c/(w+1)*r)&&z)l-=c*4,y+=2;else if(E)l-=w*4,B+=2;else if(z)l-=c*4,y+=2;else break}r=!1;l>=12&&a*4-l<=6&&(y>=4||B>=4)&&(r=!0);l=B*96;m=y*54;J=l/m<J?x.height/m:x.width/l;J=Math.min(J,2);l=Math.floor(Math.min(x.width,l*J));m=Math.floor(Math.min(x.height,m*J));x=this.table.element;x.ariaLive="polite";g.hi(x,l,m);g.MG(x,{marginLeft:l/-2+"px",marginTop:m/-2+"px"});this.C.Gs(g.lj(this.videoData));this.C instanceof Jn&&HU(this.C);g.aQ(this.element,"ytp-endscreen-takeover",
zN(this));qX(this);l+=4;m+=4;J=0;x.ariaBusy="true";for(C=0;C<B;C++)for(c=0;c<y;c++)if(w=J,z=0,r&&C>=B-2&&c>=y-2?z=1:c%2===0&&C%2===0&&(c<2&&C<2?c===0&&C===0&&(z=2):z=2),w=g.ff(w+this.D,a),z!==0){E=this.stills[J];E||(E=new ww(this.player),this.stills[J]=E,x.appendChild(E.element));var q=Math.floor(m*c/y),L=Math.floor(l*C/B),b=Math.floor(m*(c+z)/y)-q-4,S=Math.floor(l*(C+z)/B)-L-4;g.dt(E.element,L,q);g.hi(E.element,S,b);g.MG(E.element,"transitionDelay",(c+C)/20+"s");g.aQ(E.element,"ytp-videowall-still-mini",
z===1);g.aQ(E.element,"ytp-videowall-still-large",z>2);z=Math.max(S,b);g.aQ(E.element,"ytp-videowall-still-round-large",z>=256);g.aQ(E.element,"ytp-videowall-still-round-medium",z>96&&z<256);g.aQ(E.element,"ytp-videowall-still-round-small",z<=96);w=k[w];E.suggestion!==w&&(E.suggestion=w,z=E.api.Y(),q=g.sG(E.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.CT(E,w,q),g.M$(z)&&!E.api.Z("web_player_log_click_before_generating_ve_conversion_params")&&(z=w.Lj(),q={},g.V5(E.api,"addEmbedsConversionTrackingParams",
[q]),z=g.cJ(z,q),E.updateValue("url",z)),(w=(w=w.sessionData)&&w.itct)&&E.api.setTrackingParams(E.element,w));J++}x.ariaBusy="false";g.aQ(this.element,"ytp-endscreen-paginate",J<a);for(k=this.stills.length-1;k>=J;k--)B=this.stills[k],g.qG(B.element),g.hY(B);this.stills.length=J}};
g.V.onVideoDataChange=function(){var B=this.player.getVideoData(1);this.videoData!==B&&(B!=null&&g.lj(B)?(this.D=0,this.videoData=B,this.jy()):this.player.h7("missg",{vid:(B==null?void 0:B.videoId)||"",cpn:(B==null?void 0:B.clientPlaybackNonce)||""}))};
g.V.pm=function(){this.D+=this.stills.length;this.jy()};
g.V.dg=function(){this.D-=this.stills.length;this.jy()};
g.V.uG=function(){return this.C.Q6()};
g.V.s1=function(B){B===1?(this.T=!1,this.J=this.videoData.clientPlaybackNonce,this.C.N$(),this.g$&&this.jy()):(this.T=!0,this.g$&&zN(this)&&(B===2?this.C.D6():B===3&&this.C.KZ()))};
g.V.Dh=function(B){if(B){for(B=0;B<this.stills.length;B++)this.S.logVisibility(this.stills[B].element,!0);this.s1(1)}else this.J=null,this.T=!1;this.jy()};
g.V.Fj=function(){return this.g$&&zN(this)};g.R(yVS,g.O);g.V=yVS.prototype;g.V.Nf=function(){switch(this.buttonType){case 1:var B="Watch again on YouTube";var y=156915;break;case 2:B="Continue watching on YouTube";y=156942;break;default:B="Continue watching on YouTube",y=156942}this.update({content:B});this.S.hasVe(this.element)&&this.S.destroyVe(this.element);this.S.createClientVe(this.element,this,y)};
g.V.onClick=function(B){this.S.Z("web_player_log_click_before_generating_ve_conversion_params")&&this.S.logClick(this.element);g.wy(this.getVideoUrl(),this.S,B);this.S.Z("web_player_log_click_before_generating_ve_conversion_params")||this.S.logClick(this.element)};
g.V.getVideoUrl=function(){var B=!0;switch(this.buttonType){case 1:B=!0;break;case 2:B=!1}B=this.S.getVideoUrl(B,!1,!1,!0);var y=this.S.Y();if(g.M$(y)){var a={};g.M$(y)&&g.V5(this.S,"addEmbedsConversionTrackingParams",[a]);B=g.cJ(B,a)}return B};
g.V.logVisibility=function(){this.S.logVisibility(this.element,this.g$&&this.j)};
g.V.show=function(){g.O.prototype.show.call(this);this.logVisibility()};
g.V.hide=function(){g.O.prototype.hide.call(this);this.logVisibility()};
g.V.r$=function(B){g.O.prototype.r$.call(this,B);this.logVisibility()};g.R(Vq,ml);Vq.prototype.hasSuggestions=function(){var B;return(B=this.C)==null?void 0:B.hasSuggestions()};
Vq.prototype.show=function(){if(this.player.getPlayerState()!==3){ml.prototype.show.call(this);var B=this.X;if(B){var y=this.C.hasSuggestions();g.aQ(this.element,"ytp-shorts-branded-ui",y);y?B.show():B.hide()}var a;(a=g.Nh(this.player))==null||a.Ix(!0);this.player.logVisibility(this.element,!0);this.watchButton.r$(!0)}};
Vq.prototype.hide=function(){ml.prototype.hide.call(this);var B;(B=g.Nh(this.player))==null||B.Ix(!1);this.player.logVisibility(this.element,!1);this.watchButton.r$(!1)};g.R(x0o,g.N8);g.V=x0o.prototype;g.V.OT=function(){var B=this.player.getVideoData(),y=B.mutedAutoplay&&(B.limitedPlaybackDurationInSeconds>0||B.endSeconds>0||B.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!y)return!0;var a;var r=!!((B==null?0:g.lj(B))||(B==null?0:(a=B.suggestions)==null?0:a.length));r=!ahI(this.player)||r;B=B.cD;a=this.player.x$();return r&&!B&&!a&&!y};
g.V.Fj=function(){return this.endScreen.Fj()};
g.V.Jl=function(){return this.Fj()?this.endScreen.uG():!1};
g.V.lw=function(){this.player.zt("endscreen");g.N8.prototype.lw.call(this)};
g.V.load=function(){var B=this.player.getVideoData();var y=B.transitionEndpointAtEndOfStream;if(y&&y.videoId){var a=this.player.Di().Xj.get("heartbeat"),r=g.lj(B);!r||y.videoId!==r.videoId||B.Sx?(this.player.S6(y.videoId,void 0,void 0,!0,!0,y),a&&a.MC("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),B=!0):B=!1}else B=!1;B||(g.N8.prototype.load.call(this),this.endScreen.show())};
g.V.unload=function(){g.N8.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.V.onCueRangeEnter=function(B){this.OT()&&(this.endScreen.created||this.endScreen.create(),B.getId()==="load"&&this.load())};
g.V.onCueRangeExit=function(B){B.getId()==="load"&&this.loaded&&this.unload()};
g.V.onVideoDataChange=function(){k67(this);this.D&&rV7(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.C?this.endScreen=new Cd(this.player):this.endScreen=new Eu(this.player),g.K(this,this.endScreen),g.Mh(this.player,this.endScreen.element,4))};g.LT("endscreen",x0o);})(_yt_player);
